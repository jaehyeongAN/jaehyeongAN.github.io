<!DOCTYPE html>
<html lang="en">

<head><meta name="generator" content="Hexo 3.9.0">

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>[Kaggle challenge] ë³´ìŠ¤í„´ ì£¼íƒ ê°€ê²© ì˜ˆì¸¡(House Prices: Advanced Regression Techniques)</title>
  
  <link rel="sitemap" href="https://jaehyeongan.github.iositemap.xml">
  
  <link rel="canonical" href="https://jaehyeongan.github.io/2019/07/08/Kaggle-challenge-ë³´ìŠ¤í„´-ì§‘ê°’-ì˜ˆì¸¡-House-Prices-Advanced-Regression-Techniques/">
  
  <meta name="description" content="Introìºê¸€ì˜ ê³ ì „ì ì¸ ë¬¸ì œì´ë©° ë¨¸ì‹ ëŸ¬ë‹ì„ ê³µë¶€í•˜ëŠ” ì‚¬ëŒì´ë¼ë©´ ëˆ„êµ¬ë‚˜ í•œë²ˆì¯¤ ë‹¤ë¤„ë´¤ì„ Boston house price Datasetì„ í†µí•´ regressioní•˜ëŠ” ê³¼ì •ì„ ì†Œê°œí•˜ë ¤ í•œë‹¤. ì •ì‹ competition ëª…ì¹­ì€ â€˜House Prices: Advanced R">
  
  
  <meta name="author" content>
  
  <meta property="og:image" content="https://jaehyeongan.github.ioundefined">
  
  <meta property="og:site_name" content="jaehyeong&#39;s ds">
  <meta property="og:type" content="article">
  <meta property="og:title" content="[Kaggle challenge] ë³´ìŠ¤í„´ ì£¼íƒ ê°€ê²© ì˜ˆì¸¡(House Prices: Advanced Regression Techniques)">
  
  <meta property="og:description" content="Introìºê¸€ì˜ ê³ ì „ì ì¸ ë¬¸ì œì´ë©° ë¨¸ì‹ ëŸ¬ë‹ì„ ê³µë¶€í•˜ëŠ” ì‚¬ëŒì´ë¼ë©´ ëˆ„êµ¬ë‚˜ í•œë²ˆì¯¤ ë‹¤ë¤„ë´¤ì„ Boston house price Datasetì„ í†µí•´ regressioní•˜ëŠ” ê³¼ì •ì„ ì†Œê°œí•˜ë ¤ í•œë‹¤. ì •ì‹ competition ëª…ì¹­ì€ â€˜House Prices: Advanced R">
  
  <meta property="og:url" content="https://jaehyeongan.github.io/2019/07/08/Kaggle-challenge-ë³´ìŠ¤í„´-ì§‘ê°’-ì˜ˆì¸¡-House-Prices-Advanced-Regression-Techniques/">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="[Kaggle challenge] ë³´ìŠ¤í„´ ì£¼íƒ ê°€ê²© ì˜ˆì¸¡(House Prices: Advanced Regression Techniques)">
  
  <meta name="twitter:description" content="Introìºê¸€ì˜ ê³ ì „ì ì¸ ë¬¸ì œì´ë©° ë¨¸ì‹ ëŸ¬ë‹ì„ ê³µë¶€í•˜ëŠ” ì‚¬ëŒì´ë¼ë©´ ëˆ„êµ¬ë‚˜ í•œë²ˆì¯¤ ë‹¤ë¤„ë´¤ì„ Boston house price Datasetì„ í†µí•´ regressioní•˜ëŠ” ê³¼ì •ì„ ì†Œê°œí•˜ë ¤ í•œë‹¤. ì •ì‹ competition ëª…ì¹­ì€ â€˜House Prices: Advanced R">
  
  
  <meta name="twitter:image" content="https://jaehyeongan.github.ioundefined">
  
  <meta name="twitter:url" content="https://jaehyeongan.github.io/2019/07/08/Kaggle-challenge-ë³´ìŠ¤í„´-ì§‘ê°’-ì˜ˆì¸¡-House-Prices-Advanced-Regression-Techniques/">

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="../fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/skeleton.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="stylesheet" href="/css/prism-dark.css">
  <link rel="stylesheet" href="/css/prism-line-numbers.css">
  <!-- User css -->
  
  <link rel="stylesheet" href="/css/user.css">
  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/astronaut.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

</head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick="setDarkMode(true)" id="darkBtn">ğŸŒ‘</div>
      <div onclick="setDarkMode(false)" id="lightBtn" class="hidden">â˜€ï¸</div>
      <script>
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      â¬… Apply Dark.
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
          
          <a href="/about" class="ml">About</a>
          
        
        
          
            <a href="mailto:nonamed000000@gmail.com" target="_blank" class="ml">Email</a>
          
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>[Kaggle challenge] ë³´ìŠ¤í„´ ì£¼íƒ ê°€ê²© ì˜ˆì¸¡(House Prices: Advanced Regression Techniques)</h2>

  <h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>ìºê¸€ì˜ ê³ ì „ì ì¸ ë¬¸ì œì´ë©° ë¨¸ì‹ ëŸ¬ë‹ì„ ê³µë¶€í•˜ëŠ” ì‚¬ëŒì´ë¼ë©´ ëˆ„êµ¬ë‚˜ í•œë²ˆì¯¤ ë‹¤ë¤„ë´¤ì„ Boston house price Datasetì„ í†µí•´ regressioní•˜ëŠ” ê³¼ì •ì„ ì†Œê°œí•˜ë ¤ í•œë‹¤. ì •ì‹ competition ëª…ì¹­ì€ <a href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques" target="_blank" rel="noopener">â€˜House Prices: Advanced Regression Techniquesâ€™</a>ì´ë©°, í˜„ì¬ ëˆ„êµ¬ë‚˜ submissionì„ ì œì¶œí•  ìˆ˜ ìˆë‹¤.<br><img src="/image/kaggle_boston_house.JPG" width="700"> </p>
<p>ìœ„ì—ì„œ ë§í–ˆë“¯ì´ boston house priceë°ì´í„°ì…‹ì€ ì™ ë§Œí•œ ë¨¸ì‹ ëŸ¬ë‹ ê³µë¶€í•˜ëŠ” ì‚¬ëŒë“¤ì€ í•œë²ˆì¯¤ ë´¤ì„ ê²ƒì´ë©°, ëŒ€ë¶€ë¶„ì˜ ë¨¸ì‹ ëŸ¬ë‹ ì…ë¬¸ êµì¬ì—ë„ ê¼­ í•œë²ˆì”©ì€ ì†Œê°œê°€ ë˜ëŠ” ë°ì´í„°ì…‹ì´ë‹¤. í•˜ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ êµì¬ë‚˜ ê°•ì˜ì—ì„œëŠ” ì´ë¯¸ feature engineeringì„ ê±°ì¹œ ì•„ì£¼ ì˜ ì •í˜•í™” ëœ(ëª¨ë¸ì— ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ)ë°ì´í„°ì…‹ì„ ì‚¬ìš©í•˜ë©° ë°ì´í„° ì²˜ë¦¬ ê³¼ì •ì€ ìƒëµí•˜ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì¸ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ boston house price ë°ì´í„°ì…‹ì€ <strong>ë¬´ë ¤ 81ê°œì˜ ë‹¤ì–‘í•œ ì¹¼ëŸ¼ ë³€ìˆ˜</strong>ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ê° ì¹¼ëŸ¼ íŠ¹ì„±ì— ë§ëŠ” ì „ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤. </p>
<p>ë”°ë¼ì„œ, ì—¬ê¸°ì„œëŠ” boston house price ë°ì´í„°ì…‹ì— ì–´ë–»ê²Œ ì ì ˆí•œ feature engineeringì„ ì ìš©í•˜ê³ , ìµœê·¼ kaggleì—ì„œ ê°€ì¥ ì¸ê¸° ìˆëŠ” ëª¨ë¸ì¸ <strong>XGBoost ëª¨ë¸</strong>ì„ ì–´ë–»ê²Œ ì ìš©í•˜ì˜€ëŠ”ì§€ ì†Œê°œí•œë‹¤.</p>
<hr>
<h2 id="Import-Library"><a href="#Import-Library" class="headerlink" title="Import Library"></a>Import Library</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br></pre></td></tr></table></figure>
<h1 id="1-Load-Data"><a href="#1-Load-Data" class="headerlink" title="1. Load Data"></a>1. Load Data</h1><ul>
<li>ë°ì´í„°ì˜ ê²½ìš° train, test setì´ ë¶„ë¦¬ë˜ì–´ ì œê³µë˜ë©° test setì— ëŒ€í•œ ì˜ˆì¸¡ê²°ê³¼ê°€ ì¶”í›„ submissionìœ¼ë¡œ ì œì¶œëœë‹¤.</li>
<li>train ë°ì´í„°ì˜ ê²½ìš° 1,460ê±´, test ë°ì´í„°ê°€ 1459ê±´ì´ë©° ì´ 81ê°œì˜ ì¹¼ëŸ¼ì„ ê°€ì§„ë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># laod data</span></span><br><span class="line">train_df = pd.read_csv(<span class="string">'house_train.csv'</span>)</span><br><span class="line">test_df = pd.read_csv(<span class="string">'house_test.csv'</span>)</span><br><span class="line"></span><br><span class="line">train_df.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Id</th>
      <th>MSSubClass</th>
      <th>MSZoning</th>
      <th>LotFrontage</th>
      <th>LotArea</th>
      <th>Street</th>
      <th>Alley</th>
      <th>LotShape</th>
      <th>LandContour</th>
      <th>Utilities</th>
      <th>...</th>
      <th>PoolArea</th>
      <th>PoolQC</th>
      <th>Fence</th>
      <th>MiscFeature</th>
      <th>MiscVal</th>
      <th>MoSold</th>
      <th>YrSold</th>
      <th>SaleType</th>
      <th>SaleCondition</th>
      <th>SalePrice</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>60</td>
      <td>RL</td>
      <td>65.0</td>
      <td>8450</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>Reg</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>...</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>2</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
      <td>208500</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>20</td>
      <td>RL</td>
      <td>80.0</td>
      <td>9600</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>Reg</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>...</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>5</td>
      <td>2007</td>
      <td>WD</td>
      <td>Normal</td>
      <td>181500</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>60</td>
      <td>RL</td>
      <td>68.0</td>
      <td>11250</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>...</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>9</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
      <td>223500</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>70</td>
      <td>RL</td>
      <td>60.0</td>
      <td>9550</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>...</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>2</td>
      <td>2006</td>
      <td>WD</td>
      <td>Abnorml</td>
      <td>140000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>60</td>
      <td>RL</td>
      <td>84.0</td>
      <td>14260</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>...</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>12</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
      <td>250000</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 81 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># set index</span></span><br><span class="line">train_df.set_index(<span class="string">'Id'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">test_df.set_index(<span class="string">'Id'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">len_train_df = len(train_df)</span><br><span class="line">len_test_df = len(test_df)</span><br></pre></td></tr></table></figure>
<p><br></p>
<h1 id="2-Feature-Selection-Variables-of-Corrleation-gt-0-3"><a href="#2-Feature-Selection-Variables-of-Corrleation-gt-0-3" class="headerlink" title="2. Feature Selection - Variables of Corrleation &gt;= 0.3"></a>2. Feature Selection - Variables of Corrleation &gt;= 0.3</h1><ul>
<li>ê³ ë ¤í•´ì•¼ í•  ë³€ìˆ˜ê°€ ë§ì„ ë• ê° ë…ë¦½ë³€ìˆ˜ì™€ ì¢…ì†ë³€ìˆ˜ ê°„ì˜ <strong>ìƒê´€ê´€ê³„(Corrleation)</strong>ì„ ê²€í† í•´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤. </li>
<li>ëª¨ë“  ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ì¢‹ì§€ë§Œ ê·¸ ì¤‘ ì¢€ë” ì˜ë¯¸ ìˆëŠ” ë³€ìˆ˜ë§Œì„ ê³¨ë¼ë‚´ì–´ ëª¨ë¸ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ëª¨ë¸ì˜ ì˜ˆì¸¡ ì •í™•ë„ë¥¼ ë†’ì´ëŠ” ë°©ë²•ì´ë‹¤.</li>
<li>corr()í•¨ìˆ˜ë¥¼ í†µí•´ dataframeë‚´ì˜ ëª¨ë“  ë³€ìˆ˜ê°„ì˜ ìƒê´€ê´€ê³„ë¥¼ ê·¸ë¦° í›„ ìƒê´€ê´€ê³„ê°€ 0.3ì´ìƒì¸ ë³€ìˆ˜ë§Œ heatmapìœ¼ë¡œ ì¶œë ¥í•˜ì˜€ë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">corrmat = train_df.corr()</span><br><span class="line">top_corr_features = corrmat.index[abs(corrmat[<span class="string">"SalePrice"</span>])&gt;=<span class="number">0.3</span>]</span><br><span class="line">top_corr_features</span><br></pre></td></tr></table></figure>
<pre><code>Index([&#39;LotFrontage&#39;, &#39;OverallQual&#39;, &#39;YearBuilt&#39;, &#39;YearRemodAdd&#39;, &#39;MasVnrArea&#39;,
       &#39;BsmtFinSF1&#39;, &#39;TotalBsmtSF&#39;, &#39;1stFlrSF&#39;, &#39;2ndFlrSF&#39;, &#39;GrLivArea&#39;,
       &#39;FullBath&#39;, &#39;TotRmsAbvGrd&#39;, &#39;Fireplaces&#39;, &#39;GarageYrBlt&#39;, &#39;GarageCars&#39;,
       &#39;GarageArea&#39;, &#39;WoodDeckSF&#39;, &#39;OpenPorchSF&#39;, &#39;SalePrice&#39;],
      dtype=&#39;object&#39;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># heatmap</span></span><br><span class="line">plt.figure(figsize=(<span class="number">13</span>,<span class="number">10</span>))</span><br><span class="line">g = sns.heatmap(train_df[top_corr_features].corr(),annot=<span class="keyword">True</span>,cmap=<span class="string">"RdYlGn"</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/image/output_6_0.png" width="700"> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># feature selection</span></span><br><span class="line"><span class="comment"># train_df = train_df[top_corr_features]</span></span><br><span class="line"><span class="comment"># test_df = test_df[top_corr_features.drop(['SalePrice'])]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># split y_label</span></span><br><span class="line">train_y_label = train_df[<span class="string">'SalePrice'</span>] 	<span class="comment"># target ê°’ì„ ë¯¸ë¦¬ ë¶„ë¦¬í•˜ì˜€ìŒ.</span></span><br><span class="line">train_df.drop([<span class="string">'SalePrice'</span>], axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<p><br></p>
<h1 id="3-Concat-train-amp-test-set"><a href="#3-Concat-train-amp-test-set" class="headerlink" title="3. Concat train &amp; test set"></a>3. Concat train &amp; test set</h1><ul>
<li>trainê³¼ test ì…‹ì— ë™ì¼í•œ feature engineeringì„ ì ìš©í•´ì£¼ê¸° ìœ„í•´ ìš°ì„  ë‘ê°œì˜ ë°ì´í„° ì…‹ì„ í•˜ë‚˜ë¡œ í•©ì³ì£¼ì—ˆë‹¤.</li>
<li>í•©ì³ì£¼ë‹ˆ 2,919ê°œë¡œ ë°ì´í„°ê°€ ëŠ˜ì—ˆë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># concat train &amp; test</span></span><br><span class="line">boston_df = pd.concat((train_df, test_df), axis=<span class="number">0</span>)</span><br><span class="line">boston_df_index = boston_df.index</span><br><span class="line"></span><br><span class="line">print(<span class="string">'Length of Boston Dataset : '</span>,len(boston_df))</span><br><span class="line">boston_df.head()</span><br></pre></td></tr></table></figure>
<pre><code>Length of Boston Dataset :  2919
</code></pre><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MSSubClass</th>
      <th>MSZoning</th>
      <th>LotFrontage</th>
      <th>LotArea</th>
      <th>Street</th>
      <th>Alley</th>
      <th>LotShape</th>
      <th>LandContour</th>
      <th>Utilities</th>
      <th>LotConfig</th>
      <th>...</th>
      <th>ScreenPorch</th>
      <th>PoolArea</th>
      <th>PoolQC</th>
      <th>Fence</th>
      <th>MiscFeature</th>
      <th>MiscVal</th>
      <th>MoSold</th>
      <th>YrSold</th>
      <th>SaleType</th>
      <th>SaleCondition</th>
    </tr>
    <tr>
      <th>Id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>60</td>
      <td>RL</td>
      <td>65.0</td>
      <td>8450</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>Reg</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>Inside</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>2</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20</td>
      <td>RL</td>
      <td>80.0</td>
      <td>9600</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>Reg</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>FR2</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>5</td>
      <td>2007</td>
      <td>WD</td>
      <td>Normal</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60</td>
      <td>RL</td>
      <td>68.0</td>
      <td>11250</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>Inside</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>9</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
    </tr>
    <tr>
      <th>4</th>
      <td>70</td>
      <td>RL</td>
      <td>60.0</td>
      <td>9550</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>Corner</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>2</td>
      <td>2006</td>
      <td>WD</td>
      <td>Abnorml</td>
    </tr>
    <tr>
      <th>5</th>
      <td>60</td>
      <td>RL</td>
      <td>84.0</td>
      <td>14260</td>
      <td>Pave</td>
      <td>NaN</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>FR2</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>12</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 79 columns</p>
</div>

<p><br></p>
<h1 id="4-Check-NaN-ratio-and-Remove-null-ratio-gt-0-5"><a href="#4-Check-NaN-ratio-and-Remove-null-ratio-gt-0-5" class="headerlink" title="4. Check NaN ratio and Remove null ratio &gt;= 0.5"></a>4. Check NaN ratio and Remove null ratio &gt;= 0.5</h1><ul>
<li>ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•Œ í•­ìƒ Nullê°’ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ ê³ ë¯¼í•´ì•¼ í•œë‹¤. ì¶”í›„ ëª¨ë¸ì— ì…ë ¥ë˜ëŠ” inputê°’ì—ëŠ” ì ˆëŒ€ ì–´ë– í•œ Null ê°’ì´ ìˆì–´ì„œëŠ” ì•ˆë˜ë©° ìˆë”ë¼ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ë¯¸ë¦¬ ê¼­ ì²˜ë¦¬í•´ì£¼ì–´ì•¼ í•œë‹¤.</li>
<li>ìš°ì„  ê° ì¹¼ëŸ¼ë³„ë¡œ <strong>Nullê°’ ë¹„ìœ¨ì´ 50%ì´ìƒì¸ ì¹¼ëŸ¼ì„ ì°¾ì•„ í•´ë‹¹ ì¹¼ëŸ¼ì„ ì œê±°</strong>í•´ì£¼ì—ˆë‹¤. </li>
<li>ë³´í†µ nullê°’ ì²˜ë¦¬ë¥¼ ìœ„í•´ í‰ê· , ìµœëŒ€ê°’, ìµœì†Œê°’ ë“±ìœ¼ë¡œ ëŒ€ì²´í•˜ê³¤ í•˜ëŠ”ë° ìœ„ì™€ ê°™ì´ ëŒ€ë¶€ë¶„ì˜ ì¹¼ëŸ¼ì´ Nullì¸ ë°ì´í„°ëŠ” ì°¨ë¼ë¦¬ ì—†ì• ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># check null </span></span><br><span class="line">check_null = boston_df.isna().sum() / len(boston_df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># columns of null ratio &gt;= 0.5</span></span><br><span class="line">check_null[check_null &gt;= <span class="number">0.5</span>]</span><br></pre></td></tr></table></figure>
<pre><code>Alley          0.932169
PoolQC         0.996574
Fence          0.804385
MiscFeature    0.964029
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># remove columns of null ratio &gt;= 0.5</span></span><br><span class="line">remove_cols = check_null[check_null &gt;= <span class="number">0.5</span>].keys()</span><br><span class="line">boston_df = boston_df.drop(remove_cols, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">boston_df.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MSSubClass</th>
      <th>MSZoning</th>
      <th>LotFrontage</th>
      <th>LotArea</th>
      <th>Street</th>
      <th>LotShape</th>
      <th>LandContour</th>
      <th>Utilities</th>
      <th>LotConfig</th>
      <th>LandSlope</th>
      <th>...</th>
      <th>OpenPorchSF</th>
      <th>EnclosedPorch</th>
      <th>3SsnPorch</th>
      <th>ScreenPorch</th>
      <th>PoolArea</th>
      <th>MiscVal</th>
      <th>MoSold</th>
      <th>YrSold</th>
      <th>SaleType</th>
      <th>SaleCondition</th>
    </tr>
    <tr>
      <th>Id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>60</td>
      <td>RL</td>
      <td>65.0</td>
      <td>8450</td>
      <td>Pave</td>
      <td>Reg</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>Inside</td>
      <td>Gtl</td>
      <td>...</td>
      <td>61</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20</td>
      <td>RL</td>
      <td>80.0</td>
      <td>9600</td>
      <td>Pave</td>
      <td>Reg</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>FR2</td>
      <td>Gtl</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>2007</td>
      <td>WD</td>
      <td>Normal</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60</td>
      <td>RL</td>
      <td>68.0</td>
      <td>11250</td>
      <td>Pave</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>Inside</td>
      <td>Gtl</td>
      <td>...</td>
      <td>42</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
    </tr>
    <tr>
      <th>4</th>
      <td>70</td>
      <td>RL</td>
      <td>60.0</td>
      <td>9550</td>
      <td>Pave</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>Corner</td>
      <td>Gtl</td>
      <td>...</td>
      <td>35</td>
      <td>272</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>2006</td>
      <td>WD</td>
      <td>Abnorml</td>
    </tr>
    <tr>
      <th>5</th>
      <td>60</td>
      <td>RL</td>
      <td>84.0</td>
      <td>14260</td>
      <td>Pave</td>
      <td>IR1</td>
      <td>Lvl</td>
      <td>AllPub</td>
      <td>FR2</td>
      <td>Gtl</td>
      <td>...</td>
      <td>84</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>12</td>
      <td>2008</td>
      <td>WD</td>
      <td>Normal</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 75 columns</p>
</div>

<p><br></p>
<h1 id="5-Check-Object-amp-Numeric-variables"><a href="#5-Check-Object-amp-Numeric-variables" class="headerlink" title="5. Check Object &amp; Numeric variables"></a>5. Check Object &amp; Numeric variables</h1><ul>
<li>í•´ë‹¹ ë°ì´í„° ì…‹ì—ëŠ” ìˆ˜ì¹˜í˜• ë°ì´í„°ë§Œ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. [ì„±ë³„: ë‚¨ì, ì—¬ì], [í•™ê¸‰: í–‡ë‹˜ë°˜, ê½ƒë‹˜ë°˜, ë‹¬ë‹˜ë°˜]ê³¼ ê°™ì€ ì¹´í…Œê³ ë¦¬í˜• ë°ì´í„°ë„ ì¡´ì¬í•œë‹¤. </li>
<li>ì´ëŸ¬í•œ ì¹´í…Œê³ ë¦¬í˜• ë°ì´í„°ëŠ” ê° ì¹¼ëŸ¼ì„ 0ê³¼ 1ë¡œ ë³€í™˜í•´ì£¼ëŠ” one-hot encodingì„ ì ìš©í•´ì£¼ì–´ ìˆ˜ì¹˜ê°’ê³¼ ê°€ì¤‘ì¹˜ë¥¼ ë‹¬ë¦¬í•´ì£¼ì–´ì•¼ í•œë‹¤.</li>
<li>ìˆ˜ì¹˜í˜• ë°ì´í„°ì™€ ì¹´í…Œê³ ë¦¬í˜• ë°ì´í„°ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ <strong>select_dtypes()</strong>ë¥¼ ì´ìš©í•˜ì˜€ë‹¤. parameterê°’ìœ¼ë¡œ includeì™€ excludeë¥¼ ì ìš©í•  ìˆ˜ ìˆëŠ”ë° ì´ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•œë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># split object &amp; numeric</span></span><br><span class="line">boston_obj_df = boston_df.select_dtypes(include=<span class="string">'object'</span>)	<span class="comment"># ì¹´í…Œê³ ë¦¬í˜•</span></span><br><span class="line">boston_num_df = boston_df.select_dtypes(exclude=<span class="string">'object'</span>)	<span class="comment"># ìˆ˜ì¹˜í˜•</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'Object type columns:\n'</span>,boston_obj_df.columns)</span><br><span class="line">print(<span class="string">'---------------------------------------------------------------------------------'</span>)</span><br><span class="line">print(<span class="string">'Numeric type columns:\n'</span>,boston_num_df.columns)</span><br></pre></td></tr></table></figure>
<pre><code>Object type columns:
 Index([&#39;MSZoning&#39;, &#39;Street&#39;, &#39;LotShape&#39;, &#39;LandContour&#39;, &#39;Utilities&#39;,
       &#39;LotConfig&#39;, &#39;LandSlope&#39;, &#39;Neighborhood&#39;, &#39;Condition1&#39;, &#39;Condition2&#39;,
       &#39;BldgType&#39;, &#39;HouseStyle&#39;, &#39;RoofStyle&#39;, &#39;RoofMatl&#39;, &#39;Exterior1st&#39;,
       &#39;Exterior2nd&#39;, &#39;MasVnrType&#39;, &#39;ExterQual&#39;, &#39;ExterCond&#39;, &#39;Foundation&#39;,
       &#39;BsmtQual&#39;, &#39;BsmtCond&#39;, &#39;BsmtExposure&#39;, &#39;BsmtFinType1&#39;, &#39;BsmtFinType2&#39;,
       &#39;Heating&#39;, &#39;HeatingQC&#39;, &#39;CentralAir&#39;, &#39;Electrical&#39;, &#39;KitchenQual&#39;,
       &#39;Functional&#39;, &#39;FireplaceQu&#39;, &#39;GarageType&#39;, &#39;GarageFinish&#39;, &#39;GarageQual&#39;,
       &#39;GarageCond&#39;, &#39;PavedDrive&#39;, &#39;SaleType&#39;, &#39;SaleCondition&#39;],
      dtype=&#39;object&#39;)
---------------------------------------------------------------------------------
Numeric type columns:
 Index([&#39;MSSubClass&#39;, &#39;LotFrontage&#39;, &#39;LotArea&#39;, &#39;OverallQual&#39;, &#39;OverallCond&#39;,
       &#39;YearBuilt&#39;, &#39;YearRemodAdd&#39;, &#39;MasVnrArea&#39;, &#39;BsmtFinSF1&#39;, &#39;BsmtFinSF2&#39;,
       &#39;BsmtUnfSF&#39;, &#39;TotalBsmtSF&#39;, &#39;1stFlrSF&#39;, &#39;2ndFlrSF&#39;, &#39;LowQualFinSF&#39;,
       &#39;GrLivArea&#39;, &#39;BsmtFullBath&#39;, &#39;BsmtHalfBath&#39;, &#39;FullBath&#39;, &#39;HalfBath&#39;,
       &#39;BedroomAbvGr&#39;, &#39;KitchenAbvGr&#39;, &#39;TotRmsAbvGrd&#39;, &#39;Fireplaces&#39;,
       &#39;GarageYrBlt&#39;, &#39;GarageCars&#39;, &#39;GarageArea&#39;, &#39;WoodDeckSF&#39;, &#39;OpenPorchSF&#39;,
       &#39;EnclosedPorch&#39;, &#39;3SsnPorch&#39;, &#39;ScreenPorch&#39;, &#39;PoolArea&#39;, &#39;MiscVal&#39;,
       &#39;MoSold&#39;, &#39;YrSold&#39;],
      dtype=&#39;object&#39;)
</code></pre><p><br></p>
<h1 id="6-Change-object-type-to-dummy-variables"><a href="#6-Change-object-type-to-dummy-variables" class="headerlink" title="6. Change object type to dummy variables"></a>6. Change object type to dummy variables</h1><ul>
<li>ìœ„ì—ì„œ ë¶„ë¦¬í•œ ì¹´í…Œê³ ë¦¬í˜• ë°ì´í„°ì— one-hot encodingì„ ì ìš©í•˜ê¸° ìœ„í•´ pandasì˜ <strong>pd.get_dummies()</strong>ë¥¼ ì ìš©í•˜ì˜€ë‹¤. one-hot encoding ì ìš©ì‹œ [ë‚¨ì, ì—¬ì]ì˜ ê²½ìš° [[1,0], [0,1]]ê³¼ ê°™ì€ í˜•íƒœë¡œ ë³€í™˜ëœë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">boston_dummy_df = pd.get_dummies(boston_obj_df, drop_first=<span class="keyword">True</span>)</span><br><span class="line">boston_dummy_df.index = boston_df_index</span><br><span class="line">boston_dummy_df.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MSZoning_FV</th>
      <th>MSZoning_RH</th>
      <th>MSZoning_RL</th>
      <th>MSZoning_RM</th>
      <th>Street_Pave</th>
      <th>LotShape_IR2</th>
      <th>LotShape_IR3</th>
      <th>LotShape_Reg</th>
      <th>LandContour_HLS</th>
      <th>LandContour_Low</th>
      <th>...</th>
      <th>SaleType_ConLI</th>
      <th>SaleType_ConLw</th>
      <th>SaleType_New</th>
      <th>SaleType_Oth</th>
      <th>SaleType_WD</th>
      <th>SaleCondition_AdjLand</th>
      <th>SaleCondition_Alloca</th>
      <th>SaleCondition_Family</th>
      <th>SaleCondition_Normal</th>
      <th>SaleCondition_Partial</th>
    </tr>
    <tr>
      <th>Id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 200 columns</p>
</div>

<p><br></p>
<h1 id="7-Impute-NaN-of-numeric-data-to-â€˜meanâ€™"><a href="#7-Impute-NaN-of-numeric-data-to-â€˜meanâ€™" class="headerlink" title="7. Impute NaN of numeric data to â€˜meanâ€™"></a>7. Impute NaN of numeric data to â€˜meanâ€™</h1><ul>
<li>4ë²ˆì¨° ê³¼ì •ì—ì„œ nullê°’ì´ 50%ì´ìƒì¸ ë³€ìˆ˜ë“¤ì„ ì œê±°í•´ì£¼ì—ˆì—ˆëŠ”ë°, ê·¸ ì´í•˜ë¡œ nullê°’ì´ ìˆëŠ” ë°ì´í„°ë¥¼ ë§ˆì € ì²˜ë¦¬í•´ì£¼ì–´ì•¼ í•œë‹¤. </li>
<li>ì—¬ê¸°ì„œëŠ” ê° ì¹¼ëŸ¼ì˜ nullê°’ì„ í•´ë‹¹í•˜ëŠ” ê° ë³€ìˆ˜ë“¤ì˜ <strong>í‰ê· (mean)ìœ¼ë¡œ ëŒ€ì²´(imputation)</strong>í•´ì£¼ì—ˆë‹¤.</li>
<li>í‰ê· ê°’ ëŒ€ì²´ë¥¼ ìœ„í•˜ì—¬ scikit-learnì˜ <strong>Imputer í•¨ìˆ˜</strong>ë¥¼ ì´ìš©í•˜ì˜€ìœ¼ë©°, strategy ê°’ì— ëŒ€ì²´í•´ì£¼ê³ ì í•˜ëŠ” ì´ë¦„ì„ ë„£ì–´ì£¼ë©´ í•´ë‹¹ ê°’ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> Imputer</span><br><span class="line"></span><br><span class="line">imputer = Imputer(strategy=<span class="string">'mean'</span>)</span><br><span class="line">imputer.fit(boston_num_df)</span><br><span class="line">boston_num_df_ = imputer.transform(boston_num_df)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">boston_num_df = pd.DataFrame(boston_num_df_, columns=boston_num_df.columns, index=boston_df_index)</span><br><span class="line">boston_num_df.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MSSubClass</th>
      <th>LotFrontage</th>
      <th>LotArea</th>
      <th>OverallQual</th>
      <th>OverallCond</th>
      <th>YearBuilt</th>
      <th>YearRemodAdd</th>
      <th>MasVnrArea</th>
      <th>BsmtFinSF1</th>
      <th>BsmtFinSF2</th>
      <th>...</th>
      <th>GarageArea</th>
      <th>WoodDeckSF</th>
      <th>OpenPorchSF</th>
      <th>EnclosedPorch</th>
      <th>3SsnPorch</th>
      <th>ScreenPorch</th>
      <th>PoolArea</th>
      <th>MiscVal</th>
      <th>MoSold</th>
      <th>YrSold</th>
    </tr>
    <tr>
      <th>Id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>60.0</td>
      <td>65.0</td>
      <td>8450.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>2003.0</td>
      <td>2003.0</td>
      <td>196.0</td>
      <td>706.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>548.0</td>
      <td>0.0</td>
      <td>61.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>2008.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20.0</td>
      <td>80.0</td>
      <td>9600.0</td>
      <td>6.0</td>
      <td>8.0</td>
      <td>1976.0</td>
      <td>1976.0</td>
      <td>0.0</td>
      <td>978.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>460.0</td>
      <td>298.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>2007.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60.0</td>
      <td>68.0</td>
      <td>11250.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>2001.0</td>
      <td>2002.0</td>
      <td>162.0</td>
      <td>486.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>608.0</td>
      <td>0.0</td>
      <td>42.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>9.0</td>
      <td>2008.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>70.0</td>
      <td>60.0</td>
      <td>9550.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>1915.0</td>
      <td>1970.0</td>
      <td>0.0</td>
      <td>216.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>642.0</td>
      <td>0.0</td>
      <td>35.0</td>
      <td>272.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>2006.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>60.0</td>
      <td>84.0</td>
      <td>14260.0</td>
      <td>8.0</td>
      <td>5.0</td>
      <td>2000.0</td>
      <td>2000.0</td>
      <td>350.0</td>
      <td>655.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>836.0</td>
      <td>192.0</td>
      <td>84.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>12.0</td>
      <td>2008.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 36 columns</p>
</div>

<p><br></p>
<h1 id="8-Merge-numeric-df-amp-dummies-df"><a href="#8-Merge-numeric-df-amp-dummies-df" class="headerlink" title="8. Merge numeric_df &amp; dummies_df"></a>8. Merge numeric_df &amp; dummies_df</h1><ul>
<li>ìœ„ì—ì„œ ê°ê° ì²˜ë¦¬í•œ ì¹´í…Œê³ ë¦¬í˜• ë°ì´í„°ì™€ ìˆ˜ì¹˜í˜• ë°ì´í„°ë¥¼ ì´ì œ ìµœì¢…ì ìœ¼ë¡œ ë‹¤ì‹œ í•˜ë‚˜ë¡œ mergeí•´ì¤€ë‹¤. mergeì‹œ index ìˆœì„œê°€ ê¼¬ì´ì§€ ì•Šê²Œ left_index=True, right_index=Trueë¥¼ ì§€ì •í•˜ì—¬ mergeë¥¼ ìˆ˜í–‰í•œë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">boston_df = pd.merge(boston_dummy_df, boston_num_df, left_index=<span class="keyword">True</span>, right_index=<span class="keyword">True</span>)</span><br><span class="line">boston_df.head()</span><br></pre></td></tr></table></figure>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MSZoning_FV</th>
      <th>MSZoning_RH</th>
      <th>MSZoning_RL</th>
      <th>MSZoning_RM</th>
      <th>Street_Pave</th>
      <th>LotShape_IR2</th>
      <th>LotShape_IR3</th>
      <th>LotShape_Reg</th>
      <th>LandContour_HLS</th>
      <th>LandContour_Low</th>
      <th>...</th>
      <th>GarageArea</th>
      <th>WoodDeckSF</th>
      <th>OpenPorchSF</th>
      <th>EnclosedPorch</th>
      <th>3SsnPorch</th>
      <th>ScreenPorch</th>
      <th>PoolArea</th>
      <th>MiscVal</th>
      <th>MoSold</th>
      <th>YrSold</th>
    </tr>
    <tr>
      <th>Id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>548.0</td>
      <td>0.0</td>
      <td>61.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>2008.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>460.0</td>
      <td>298.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>2007.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>608.0</td>
      <td>0.0</td>
      <td>42.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>9.0</td>
      <td>2008.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>642.0</td>
      <td>0.0</td>
      <td>35.0</td>
      <td>272.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>2006.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>836.0</td>
      <td>192.0</td>
      <td>84.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>12.0</td>
      <td>2008.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 236 columns</p>
</div>

<p><br></p>
<h1 id="9-Split-train-amp-validation-amp-test-set"><a href="#9-Split-train-amp-validation-amp-test-set" class="headerlink" title="9. Split train &amp; validation &amp; test set"></a>9. Split train &amp; validation &amp; test set</h1><ul>
<li>ëª¨ë¸ í•™ìŠµ ë° ê²€ì¦ì„ ìœ„í•´ ë°ì´í„°ë¥¼ splití•œë‹¤.</li>
<li>ì—¬ê¸°ì„œ test setì˜ ê²½ìš° ì •ë‹µê°’ì´ ì—†ëŠ” ì˜ˆì¸¡í•´ì•¼ í•˜ëŠ” ê°’ì´ë¯€ë¡œ ê²€ì¦ì„ ìœ„í•´ validation setì„ train setì˜ 20%ë§Œí¼ì„ ì§€ì •í•´ì£¼ì—ˆë‹¤.</li>
<li>ìµœì¢…ì ìœ¼ë¡œ 1,168ê°œì˜ ë°ì´í„°ë¡œ í•™ìŠµ ë° 292ê°œì˜ ë°ì´í„°ë¡œ ê²€ì¦ í›„ 1,459ê°œì˜ testì…‹ì„ ì˜ˆì¸¡í•œë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">train_df = boston_df[:len_train_df]</span><br><span class="line">test_df = boston_df[len_train_df:]</span><br><span class="line"></span><br><span class="line">train_df[<span class="string">'SalePrice'</span>] = train_y_label</span><br><span class="line"></span><br><span class="line">print(<span class="string">'train set length: '</span>,len(train_df))</span><br><span class="line">print(<span class="string">'test set length: '</span>,len(test_df))</span><br></pre></td></tr></table></figure>
<pre><code>train set length:  1460
test set length:  1459
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">X_train = train_df.drop([<span class="string">'SalePrice'</span>], axis=<span class="number">1</span>)</span><br><span class="line">y_train = train_df[<span class="string">'SalePrice'</span>]</span><br><span class="line"></span><br><span class="line">X_train, X_val, y_train, y_val = train_test_split(X_train, y_train, test_size=<span class="number">0.2</span>, shuffle=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">X_test = test_df</span><br><span class="line">test_id_idx = test_df.index</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'X_train : '</span>,len(X_train))</span><br><span class="line">print(<span class="string">'X_val : '</span>,len(X_val))</span><br><span class="line">print(<span class="string">'X_test :'</span>,len(X_test))</span><br></pre></td></tr></table></figure>
<pre><code>X_train :  1168
X_val :  292
X_test : 1459
</code></pre><p><br></p>
<h1 id="10-Training-by-XGBRegression-Model"><a href="#10-Training-by-XGBRegression-Model" class="headerlink" title="10. Training by XGBRegression Model"></a>10. Training by XGBRegression Model</h1><ul>
<li>ëª¨ë¸ í•™ìŠµì„ ìœ„í•´ ìµœê·¼ kaggleì—ì„œ ê°€ì¥ ì¸ê¸° ìˆëŠ” ëª¨ë¸ì¸ XGBoost ëª¨ë¸ì„ ì´ìš©í•˜ì˜€ë‹¤. í•´ë‹¹ ì˜ˆì¸¡ì€ regression ì˜ˆì¸¡ì´ë¯€ë¡œ <strong>XGBRegressor()</strong> ëª¨ë¸ì„ ì´ìš©í•˜ì˜€ë‹¤.</li>
<li>ìµœì ì˜ ëª¨ë¸ íŒŒë¼ë¯¸í„° ì„¤ì •ì„ ìœ„í•˜ì—¬ GridSearchë¥¼ ì´ìš©í•˜ì˜€ìœ¼ë©°, 5ë²ˆì˜ cross-validationìœ¼ë¡œ ê²€ì¦ì„ ì§„í–‰í•˜ì˜€ë‹¤.</li>
<li>í•™ìŠµ í›„ best<em>params</em>ë¥¼ ì¶œë ¥í•˜ë©´ ìµœì ì˜ íŒŒë¼ë¯¸í„° ê°’ì´ ì¶œë ¥ëœë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"><span class="keyword">import</span> xgboost <span class="keyword">as</span> xgb</span><br><span class="line"></span><br><span class="line">param = &#123;</span><br><span class="line">    <span class="string">'max_depth'</span>:[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">    <span class="string">'n_estimators'</span>:range(<span class="number">550</span>,<span class="number">700</span>,<span class="number">50</span>),</span><br><span class="line">    <span class="string">'colsample_bytree'</span>:[<span class="number">0.5</span>,<span class="number">0.7</span>,<span class="number">1</span>],</span><br><span class="line">    <span class="string">'colsample_bylevel'</span>:[<span class="number">0.5</span>,<span class="number">0.7</span>,<span class="number">1</span>],</span><br><span class="line">&#125;</span><br><span class="line">model = xgb.XGBRegressor()</span><br><span class="line">grid_search = GridSearchCV(estimator=model, param_grid=param, cv=<span class="number">5</span>, </span><br><span class="line">                           scoring=<span class="string">'neg_mean_squared_error'</span>,</span><br><span class="line">                           n_jobs=<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">grid_search.fit(X_train, y_train)</span><br><span class="line">print(grid_search.best_params_)</span><br><span class="line">print(grid_search.best_estimator_)</span><br></pre></td></tr></table></figure>
<pre><code>{&#39;colsample_bylevel&#39;: 0.5, &#39;colsample_bytree&#39;: 0.7, &#39;max_depth&#39;: 3, &#39;n_estimators&#39;: 600}
XGBRegressor(base_score=0.5, booster=&#39;gbtree&#39;, colsample_bylevel=0.5,
             colsample_bytree=0.7, gamma=0, learning_rate=0.1, max_delta_step=0,
             max_depth=3, min_child_weight=1, missing=None, n_estimators=600,
             n_jobs=1, nthread=None, objective=&#39;reg:linear&#39;, random_state=0,
             reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=None,
             silent=True, subsample=1)
</code></pre><p><br></p>
<h1 id="11-Prediction-amp-Score"><a href="#11-Prediction-amp-Score" class="headerlink" title="11. Prediction &amp; Score"></a>11. Prediction &amp; Score</h1><ul>
<li>ê²€ì¦ì„ ìœ„í•´ <strong>Mean Absolute Error(MAE)</strong> ì§€í‘œë¥¼ í™œìš©í•˜ì˜€ë‹¤. MSEë¥¼ í™œìš©í•  ê²½ìš° errorê°’ì´ í´ ê²½ìš° ê·¸ì— ì œê³±ëœ ê°’ì´ ì¶œë ¥ë˜ê¸° ë•Œë¬¸ì— ê°’ì´ ë„ˆë¬´ ì»¤ì ¸ ë³´ê¸° ë¶ˆí¸í•˜ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.<br><img src="/image/mae.png" width="400"> </li>
<li>ê²€ì¦ ê²°ê³¼ validation mae ê°’ì´ 14,000ì •ë„ì¸ë°, ì›Œë‚™ ì§‘ ê°€ê²©ì— ëŒ€í•œ ê°’ì˜ ë²”ìœ„ê°€ ë„“ê¸° ë•Œë¬¸ì— ì´ ì •ë„ errorê°’ì€ ì‹¬ê°í•œ ì •ë„ëŠ” ì•„ë‹ˆë©° ë‚©ë“í• ë§Œí•œ ìˆ˜ì¤€ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error, mean_absolute_error</span><br><span class="line">pred_train = grid_search.predict(X_train)</span><br><span class="line">pred_val = grid_search.predict(X_val)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'train mae score: '</span>, mean_absolute_error(y_train, pred_train))</span><br><span class="line">print(<span class="string">'val mae score:'</span>, mean_absolute_error(y_val, pred_val))</span><br></pre></td></tr></table></figure>
<pre><code>train mae score:  4790.379391186858
val mae score: 14178.155835295376
</code></pre><p><br></p>
<ul>
<li>ì´í›„ validation setì„ ëŒ€ìƒìœ¼ë¡œ ì˜ˆì¸¡ì„ ìˆ˜í–‰í•œ í›„ ì‹¤ì œ ê°’ê³¼ì˜ ê²°ê³¼ë¥¼ plottingí•˜ì˜€ë‹¤. </li>
<li>ì–´ëŠ ì •ë„ ê²½í–¥ì„ ì˜ ì˜ˆì¸¡í•˜ê³  ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">17</span>,<span class="number">7</span>))</span><br><span class="line">plt.plot(range(<span class="number">0</span>, len(y_val)), y_val,<span class="string">'o-'</span>, label=<span class="string">'Validation Actual'</span>)</span><br><span class="line">plt.plot(range(<span class="number">0</span>, len(pred_val)), pred_val, <span class="string">'-'</span>, label=<span class="string">'Validation Predict'</span>)</span><br><span class="line">plt.title(<span class="string">'Prediction of House Prices'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Prices'</span>)</span><br><span class="line">plt.legend()</span><br></pre></td></tr></table></figure>
<p><img src="/image/output_32_1.png" width="1050"> </p>
<p><br></p>
<h1 id="12-Predict-test-set-amp-Submit-submission-csv"><a href="#12-Predict-test-set-amp-Submit-submission-csv" class="headerlink" title="12. Predict test set &amp; Submit submission.csv"></a>12. Predict test set &amp; Submit submission.csv</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test_y_pred = grid_search.predict(X_test)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id_pred_df = pd.DataFrame()</span><br><span class="line">id_pred_df[<span class="string">'Id'</span>] = test_id_idx</span><br><span class="line">id_pred_df[<span class="string">'SalePrice'</span>] = test_y_pred</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id_pred_df.to_csv(<span class="string">'submission.csv'</span>, index=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Outro"><a href="#Outro" class="headerlink" title="Outro"></a>Outro</h2><p>ì‹¤ì œ submissionì—ì„œ ì„±ëŠ¥ í‰ê°€ ì‹œì—ëŠ” Root Mean Squarred Errorì´ìš©í•˜ëŠ”ë°, ì œì¶œ ê²°ê³¼ 0.12875ë¡œ ì´ 4,465íŒ€ ì¤‘ 1,867ë“±ì„ ê¸°ë¡í•˜ì˜€ë‹¤(ìƒìœ„ 42%). ì´ë²ˆì—ëŠ” ë‹¨ìˆœíˆ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ë§Œ ì ìš©í•´ë³´ì•˜ëŠ”ë°, LSTM ëª¨ë¸ì„ ì ìš©í•˜ë©´ í™•ì‹¤íˆ ë” ë‚®ì€ error ê°’ì´ ë‚˜ì˜¬ ê²ƒìœ¼ë¡œ ê¸°ëŒ€ëœë‹¤.  </p>

  <p><a class="classtest-link" href="/tags/bostonhouse/">bostonhouse</a>, <a class="classtest-link" href="/tags/featureengineering/">featureengineering</a>, <a class="classtest-link" href="/tags/kaggle/">kaggle</a>, <a class="classtest-link" href="/tags/machinelearning/">machinelearning</a>, <a class="classtest-link" href="/tags/price/">price</a>, <a class="classtest-link" href="/tags/regression/">regression</a>, <a class="classtest-link" href="/tags/xgboost/">xgboost</a> â€” Jul 8, 2019</p>
  
  <hr>
<section id="comments" class="mt-2 mb-3">

  <div id="disqus_thread">
    <a href="#" class="button button-primary" onclick="loadDisqus();return false;">View / Make Comments</a>
  </div>

  <script>
    var disqus_config = function() {
      this.page.url = 'https://jaehyeongan.github.io/2019/07/08/Kaggle-challenge-ë³´ìŠ¤í„´-ì§‘ê°’-ì˜ˆì¸¡-House-Prices-Advanced-Regression-Techniques/index.html';
      this.page.identifier = '2019/07/08/Kaggle-challenge-ë³´ìŠ¤í„´-ì§‘ê°’-ì˜ˆì¸¡-House-Prices-Advanced-Regression-Techniques/index.html';
      this.page.title = '[Kaggle challenge] ë³´ìŠ¤í„´ ì£¼íƒ ê°€ê²© ì˜ˆì¸¡(House Prices: Advanced Regression Techniques)';
    };

    var is_disqus_loaded = false;

    function loadDisqus() {
      if (!is_disqus_loaded) {
        is_disqus_loaded = true;

        var d = document,
          s = d.createElement('script');
        s.src = 'https://jaehyeongan.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      }
    }

  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>



          <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with â¤ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
        at <a href="https://en.wikipedia.org/wiki/Earth" target="_blank" rel="noreferrer">Earth</a>.</p>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi">
      
      <a class="ml-0 footer-link icon" href="https://github.com/jaehyeongAN" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      
      <a class="ml-0 footer-link icon" href="https://www.linkedin.com/in/jaehyeong-an-005603160/" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="LinkedIn">
        <svg class="linkedin svg-hov" width="18" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
      </a>
      

      

      
      <a class="ml-0 footer-link icon" href="https://www.instagram.com/an_jh.ds/" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="Instagram">
        <svg class="instagram svg-hov" width="18" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Instagram</title><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/></svg>
      </a>
      

    </div>
  
</div>

        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>

</html>
